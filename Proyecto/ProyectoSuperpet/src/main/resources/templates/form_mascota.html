<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <meta charset="UTF-8">
  <title>Inscribir Mascota</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,sans-serif;}

    body {
      min-height:100vh;
      display:flex;
      justify-content:flex-start;
      align-items:center;
      overflow:hidden;
    }

    /* Fondo con im√°genes rotatorias */
    .background {
      position: fixed;
      top:0; left:0;
      width:100%; height:100%;
      z-index:-1;
      background-size:cover;
      background-position:center;
      animation: cambiarFondo 20s infinite alternate;
    }

    @keyframes cambiarFondo {
      0% { background-image: url("https://images.unsplash.com/photo-1601422931998-d14d7f0236df?q=80&w=764&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"); }
      33% { background-image: url("https://images.unsplash.com/photo-1548767797-d8c844163c4c?q=80&w=1171&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"); }
      66% { background-image: url("https://images.unsplash.com/photo-1623387641168-d9803ddd3f35?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"); }
      100% { background-image: url("https://plus.unsplash.com/premium_photo-1661503280224-a86d7ad2a574?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"); }
    }

    /* Caja del formulario */
    .card {
      background: rgba(255,255,255,0.12);
      backdrop-filter: blur(12px);
      border-radius: 18px;
      padding: 36px;
      width: 420px;
      color:#fff;
      box-shadow: 0 8px 28px rgba(0,0,0,0.4);
      margin-left: 60px;
      animation: slideUp .8s ease-out;
    }

    @keyframes slideUp {
      from {opacity:0; transform: translateY(30px);}
      to {opacity:1; transform: translateY(0);}
    }

    h1 {
      text-align:center;
      margin-bottom:20px;
      font-size:1.7rem;
      text-shadow:1px 1px 3px rgba(0,0,0,0.6);
    }

    label {
      font-weight:600;
      display:block;
      margin-top:14px;
      margin-bottom:6px;
    }

    input, textarea, select {
      width:100%;
      padding:12px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.3);
      background: rgba(255,255,255,0.18);
      color:#fff;
      font-size:0.95rem;
      outline:none;
      transition: all .3s ease;
    }

    input:focus, textarea:focus, select:focus {
      border-color:#60a5fa;
      background: rgba(255,255,255,0.28);
      box-shadow:0 0 6px #3b82f6;
    }

    .invalid {
      border-color:#f87171 !important;
      box-shadow:0 0 6px #ef4444;
    }

    textarea {resize:none;}

    button {
      margin-top:22px;
      width:100%;
      padding:14px;
      border:0;
      border-radius:12px;
      background: linear-gradient(135deg,#3b82f6,#2563eb);
      color:#fff;
      font-weight:600;
      font-size:1rem;
      cursor:pointer;
      transition:all .3s ease;
      box-shadow: 0 6px 18px rgba(0,0,0,0.3);
    }

    button:hover {
      background: linear-gradient(135deg,#2563eb,#1d4ed8);
      transform: translateY(-2px);
    }

    .msg-ok, .msg-err {
      margin-top:14px;
      padding:10px;
      border-radius:8px;
      text-align:center;
      font-weight:600;
    }
    .msg-ok { background:rgba(34,197,94,0.2); color:#bbf7d0; border:1px solid #22c55e;}
    .msg-err { background:rgba(239,68,68,0.2); color:#fecaca; border:1px solid #ef4444;}

    p {text-align:center;margin-top:14px;}
    a {color:#facc15;text-decoration:none;font-weight:500;}
    a:hover {text-decoration:underline;}
  </style>
</head>
<body>
  <!-- Fondo rotatorio -->
  <div class="background"></div>

  <!-- Formulario -->
  <div class="card">
    <h1>Inscribir Mascota üêæ</h1>

    <form th:action="@{/mascotas/guardar}" th:object="${mascota}" method="post">
      <!-- CSRF -->
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

      <label for="nombre">Nombre</label>
      <input id="nombre" type="text" th:field="*{nombre}" th:classappend="${#fields.hasErrors('nombre')} ? ' invalid'">
      <div class="msg-err" th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}"></div>

      <label for="especie">Especie</label>
      <input id="especie" type="text" th:field="*{especie}">

      <label for="raza">Raza</label>
      <input id="raza" type="text" th:field="*{raza}">

      <label for="edad">Edad (a√±os)</label>
      <input id="edad" type="number" min="0" th:field="*{edad}">

      <label for="peso">Peso (kg)</label>
      <input id="peso" type="number" step="0.1" min="0" th:field="*{peso}">

      <label for="observaciones">Observaciones</label>
      <textarea id="observaciones" rows="3" th:field="*{observaciones}"></textarea>

      <button type="submit">Guardar Mascota</button>
    </form>

    <div class="msg-ok" th:if="${ok}" th:text="${ok}"></div>
    <div class="msg-err" th:if="${error}" th:text="${error}"></div>

    <p><a th:href="@{/menu}">‚¨Ö Volver al men√∫</a></p>
  </div>
</body>
</html>
